/* 
 * Pronto v3.0.18 - 2014-08-19 
 * A jQuery plugin for faster page loads. Part of the formstone library. 
 * http://formstone.it/pronto/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */ 

!function(a,b){"use strict";function c(c){m&&(k=a("body"),k.hasClass("pronto")||(a.extend(!0,p,c||{}),p.$container=a(p.container),p.render===a.noop&&(p.render=h),n=b.location.href,i(),l.on("popstate.pronto",e),q.enable()))}function d(a){var c=a.currentTarget;if(!(a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||b.location.protocol!==c.protocol||b.location.host!==c.host||"_blank"===c.target)){if(c.hash&&c.href.replace(c.hash,"")===b.location.href.replace(location.hash,"")||c.href===b.location.href+"#")return i(),void 0;a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),n===c.href?i():f(c.href)}}function e(a){var c=a.originalEvent.state;c&&(p.modal&&0===o&&c.url?b.location.href=c.url:c.url!==n&&(p.force?f(c.url):(l.trigger("pronto.request"),g(c.url,c.data,c.scroll,!1))))}function f(c){l.trigger("pronto.request"),a.ajax({url:c+(c.indexOf("?")>-1?"&"+p.requestKey+"=true":"?"+p.requestKey+"=true"),dataType:"json",xhr:function(){var a=new b.XMLHttpRequest;return a.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.loaded/a.total;l.trigger("pronto.progress",[b])}},!1),a},success:function(b){b="string"==typeof b?a.parseJSON(b):b,g(c,b,p.jump?0:!1,!0)},error:function(b,d,e){l.trigger("pronto.error",[e]);try{var f=a.parseJSON(b.responseText);g(c,f,0,!0)}catch(h){}}})}function g(a,b,c,d){l.trigger("pronto.load"),j(a),i(),p.render.call(this,b),n=a,d?(history.pushState({url:n,data:b,scroll:c},"state-"+n,n),o++):i(),l.trigger("pronto.render"),c!==!1&&l.scrollTop(c)}function h(b){if("undefined"!=typeof b)for(var c in p.target)p.target.hasOwnProperty(c)&&b.hasOwnProperty(c)&&a(p.target[c]).html(b[c])}function i(){var b=[];for(var c in p.target)p.target.hasOwnProperty(c)&&(b[c]=a(p.target[c]).html());history.replaceState({url:n,data:b,scroll:l.scrollTop()},"state-"+n,n)}function j(a){if(a=a.replace(b.location.protocol+"//"+b.location.host,""),p.tracking.legacy)b._gaq=b._gaq||[],b._gaq.push(["_trackPageview",a]);else if(p.tracking.manager){var c={};c[p.tracking.variable]=a,b.dataLayer=b.dataLayer||[],b.dataLayer.push(c),b.dataLayer.push({event:p.tracking.event})}else"function"==typeof ga&&ga("send","pageview",a)}var k,l=a(b),m=b.history&&b.history.pushState&&b.history.replaceState,n="",o=0,p={force:!1,jump:!0,modal:!1,selector:"a",render:a.noop,requestKey:"pronto",target:{title:"title",content:"#pronto"},tracking:{legacy:!1,manager:!1,variable:"currentURL",event:"PageView"}},q={defaults:function(b){return p=a.extend(p,b||{}),a(this)},disable:function(){k&&k.hasClass("pronto")&&k.off("click.pronto").removeClass("pronto")},enable:function(){k&&!k.hasClass("pronto")&&k.on("click.pronto",p.selector,d).addClass("pronto")},load:function(a){m?a&&f(a):b.location.href=a}};a.pronto=function(a){return q[a]?q[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)}}(jQuery,this);