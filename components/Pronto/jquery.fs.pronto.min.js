/* 
 * Pronto v3.0.10 - 2014-03-12 
 * A jQuery plugin for faster page loads. Part of the formstone library. 
 * http://formstone.it/pronto/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */ 

!function(a,b){"use strict";function c(c){l&&(a.extend(!0,n,c||{}),n.$body=a("body"),n.$container=a(n.container),n.render===a.noop&&(n.render=h),m=b.location.href,i(),k.on("popstate.pronto",e),n.$body.on("click.pronto",n.selector,d))}function d(a){var c=a.currentTarget;if(!(a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||b.location.protocol!==c.protocol||b.location.host!==c.host||"_blank"===c.target)){if(c.hash&&c.href.replace(c.hash,"")===b.location.href.replace(location.hash,"")||c.href===b.location.href+"#")return i(),void 0;a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),m===c.href?i():f(c.href)}}function e(a){var b=a.originalEvent.state;b&&b.url!==m&&(n.force?f(b.url):(k.trigger("pronto.request"),g(b.url,b.data,b.scroll,!1)))}function f(b){k.trigger("pronto.request"),a.ajax({url:b+(b.indexOf("?")>-1?"&"+n.requestKey+"=true":"?"+n.requestKey+"=true"),dataType:"json",success:function(c){c="string"==typeof c?a.parseJSON(c):c,g(b,c,0,!0)},error:function(c,d,e){k.trigger("pronto.error",[e]);try{var f=a.parseJSON(c.responseText);g(b,f,0,!0)}catch(h){}}})}function g(a,b,c,d){k.trigger("pronto.load"),j(a),i(),n.render.call(this,b),m=a,d?history.pushState({url:m,data:b,scroll:0},"state-"+m,m):i(),k.trigger("pronto.render").scrollTop(c)}function h(b){if("undefined"!=typeof b)for(var c in n.target)n.target.hasOwnProperty(c)&&b.hasOwnProperty(c)&&a(n.target[c]).html(b[c])}function i(){var b=[];for(var c in n.target)n.target.hasOwnProperty(c)&&(b[c]=a(n.target[c]).html());history.replaceState({url:m,data:b,scroll:k.scrollTop()},"state-"+m,m)}function j(a){if(a=a.replace(b.location.protocol+"//"+b.location.host,""),n.tracking.legacy)b._gaq=b._gaq||[],b._gaq.push(["_trackPageview",a]);else if(n.tracking.manager){var c={};c[n.tracking.variable]=a,b.dataLayer=b.dataLayer||[],b.dataLayer.push(c),b.dataLayer.push({event:n.tracking.event})}else"function"==typeof ga&&ga("send","pageview",a)}var k=a(b),l=b.history&&b.history.pushState&&b.history.replaceState,m="",n={force:!1,selector:"a",render:a.noop,requestKey:"pronto",target:{title:"title",content:"#pronto"},tracking:{legacy:!1,manager:!1,variable:"currentURL",event:"PageView"}},o={defaults:function(b){return n=a.extend(n,b||{}),a(this)},load:function(a){l?a&&f(a):b.location.href=a}};a.pronto=function(a){return o[a]?o[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)}}(jQuery,this);