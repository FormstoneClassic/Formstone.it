/* 
 * Pronto v3.0.13 - 2014-03-13 
 * A jQuery plugin for faster page loads. Part of the formstone library. 
 * http://formstone.it/pronto/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */ 

!function(a,b){"use strict";function c(c){m&&(k=a("body"),k.hasClass("pronto")||(a.extend(!0,o,c||{}),o.$container=a(o.container),o.render===a.noop&&(o.render=h),n=b.location.href,i(),l.on("popstate.pronto",e),k.on("click.pronto",o.selector,d).addClass("pronto")))}function d(a){var c=a.currentTarget;if(!(a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||b.location.protocol!==c.protocol||b.location.host!==c.host||"_blank"===c.target)){if(c.hash&&c.href.replace(c.hash,"")===b.location.href.replace(location.hash,"")||c.href===b.location.href+"#")return i(),void 0;a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),n===c.href?i():f(c.href)}}function e(a){var b=a.originalEvent.state;b&&b.url!==n&&(o.force?f(b.url):(l.trigger("pronto.request"),g(b.url,b.data,b.scroll,!1)))}function f(c){l.trigger("pronto.request"),a.ajax({url:c+(c.indexOf("?")>-1?"&"+o.requestKey+"=true":"?"+o.requestKey+"=true"),dataType:"json",xhr:function(){var a=new b.XMLHttpRequest;return a.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.loaded/a.total;l.trigger("pronto.progress",[b])}},!1),a},success:function(b){b="string"==typeof b?a.parseJSON(b):b,g(c,b,0,!0)},error:function(b,d,e){l.trigger("pronto.error",[e]);try{var f=a.parseJSON(b.responseText);g(c,f,0,!0)}catch(h){}}})}function g(a,b,c,d){l.trigger("pronto.load"),j(a),i(),o.render.call(this,b),n=a,d?history.pushState({url:n,data:b,scroll:0},"state-"+n,n):i(),l.trigger("pronto.render").scrollTop(c)}function h(b){if("undefined"!=typeof b)for(var c in o.target)o.target.hasOwnProperty(c)&&b.hasOwnProperty(c)&&a(o.target[c]).html(b[c])}function i(){var b=[];for(var c in o.target)o.target.hasOwnProperty(c)&&(b[c]=a(o.target[c]).html());history.replaceState({url:n,data:b,scroll:l.scrollTop()},"state-"+n,n)}function j(a){if(a=a.replace(b.location.protocol+"//"+b.location.host,""),o.tracking.legacy)b._gaq=b._gaq||[],b._gaq.push(["_trackPageview",a]);else if(o.tracking.manager){var c={};c[o.tracking.variable]=a,b.dataLayer=b.dataLayer||[],b.dataLayer.push(c),b.dataLayer.push({event:o.tracking.event})}else"function"==typeof ga&&ga("send","pageview",a)}var k,l=a(b),m=b.history&&b.history.pushState&&b.history.replaceState,n="",o={force:!1,selector:"a",render:a.noop,requestKey:"pronto",target:{title:"title",content:"#pronto"},tracking:{legacy:!1,manager:!1,variable:"currentURL",event:"PageView"}},p={defaults:function(b){return o=a.extend(o,b||{}),a(this)},load:function(a){m?a&&f(a):b.location.href=a}};a.pronto=function(a){return p[a]?p[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)}}(jQuery,this);