/* 
 * Pager v1.0.0 - 2014-03-15 
 * A jQuery plugin for simple pagination. Part of the formstone library. 
 * http://formstone.it/pager/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */ 

!function(a,b){"use strict";function c(b){b=a.extend(!0,{},p,b);for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(c,d){if(!c.data("pager")){d=a.extend({},d,c.data("pager-options"));var l="";l+='<button class="pager-control previous">'+d.labels.previous+"</button>",l+='<button class="pager-control next">'+d.labels.next+"</button>",l+='<div class="pager-position">',l+='<span class="current">0</span>',l+=" "+d.labels.count+" ",l+='<span class="total">0</span>',l+="</div>",l+='<select class="pager-select" tab-index="-1"></select>',c.addClass("pager").wrapInner('<div class="pager-pages"></div>').prepend(l);var m=a.extend({},d,{$pager:c,$controls:c.find(".pager-control"),$pages:c.find(".pager-pages"),$position:c.find(".pager-position"),$select:c.find(".pager-select"),$items:c.find("a"),index:-1});m.total=m.$items.length-1;var n=m.$items.index(m.$items.filter(".active"));m.$items.eq(0).addClass("first").end().eq(m.total).addClass("last"),m.$items.filter(".first").after('<span class="ellipsis first">&hellip;</span>'),m.$items.filter(".last").before('<span class="ellipsis last">&hellip;</span>'),m.$ellipsis=m.$pages.find(".ellipsis"),j(m),m.$pager.data("pager",m).on("touchstart.pager click.pager",".pager-control",e).on("touchstart.pager click.pager",".pager-pages a",f).on("touchstart.pager click.pager",".pager-position",h).on("change.pager",".pager-select",g),void 0!==b.matchMedia&&(m.mediaQuery=b.matchMedia("(max-width:"+(1/0===m.maxWidth?"100000px":m.maxWidth)+")"),m.mediaQuery.addListener(function(){k.apply(m.$pager)}),k.apply(m.$pager)),i(m,n)}}function e(b){b.preventDefault(),b.stopPropagation();var c=a(b.currentTarget),d=a(b.delegateTarget).data("pager"),e=d.index+(c.hasClass("previous")?-1:1);e>-1&&d.$items.eq(e).trigger("click")}function f(c){var d=a(c.currentTarget),e=a(c.delegateTarget).data("pager"),f=e.$items.index(d);e.ajax?(c.preventDefault(),c.stopPropagation()):b.location.href=d.attr("href"),i(e,f)}function g(b){b.preventDefault(),b.stopPropagation();var c=a(b.currentTarget),d=a(b.delegateTarget).data("pager"),e=parseInt(c.val(),10);d.$items.eq(e).trigger("click")}function h(c){c.preventDefault(),c.stopPropagation();var d=(a(c.currentTarget),a(c.delegateTarget).data("pager"));if(n&&!o){var e=d.$select[0];if(b.document.createEvent){var f=b.document.createEvent("MouseEvents");f.initMouseEvent("mousedown",!1,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(f)}else e.fireEvent&&e.fireEvent("onmousedown")}}function i(a,b){if(0>b&&(b=0),b>a.total&&(b=a.total),b!==a.index){a.index=b;var c=a.index-a.visible,d=a.index+(a.visible+1);0>c&&(c=0),d>a.total&&(d=a.total),a.$items.removeClass("visible").filter(".active").removeClass("active").end().eq(a.index).addClass("active").end().slice(c,d).addClass("visible"),a.$position.find(".current").text(a.index+1),a.$position.find(".total").text(a.total+1),a.$select.val(a.index),a.$controls.removeClass("disabled"),0===b&&a.$controls.filter(".previous").addClass("disabled"),b===a.total&&a.$controls.filter(".next").addClass("disabled"),a.$ellipsis.removeClass("hide"),b<=a.visible+1&&a.$ellipsis.filter(".first").addClass("hide"),b>=a.total-a.visible-1&&a.$ellipsis.filter(".last").addClass("hide"),a.$pager.trigger("update.pager",[a.index])}}function j(a){for(var b="",c=0;c<=a.total;c++)b+='<option value="'+c+'"',c===a.index&&(b+='selected="selected"'),b+=">Page "+(c+1)+"</option>";a.$select.html(b)}function k(){var b=a(this).data("pager");b.mediaQuery.matches?b.$pager.addClass("mobile"):b.$pager.removeClass("mobile")}var l=b.navigator.userAgent||b.navigator.vendor||b.opera,m=/Firefox/i.test(l),n=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(l),o=m&&n,p={ajax:!1,labels:{count:"of",next:"Next",previous:"Previous"},maxWidth:"740px",visible:2},q={defaults:function(b){return p=a.extend(p,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("pager");b&&(b.$controls.remove(),b.$ellipsis.remove(),b.$select.remove(),b.$position.remove(),b.$items.removeClass("active visible first last").unwrap(),b.$pager.removeClass("pager").off(".pager").data("pager",null))})},jump:function(b){return a(this).each(function(){var c=a(this).data("pager");c&&c.$items.eq(b).trigger("click")})}};a.fn.pager=function(a){return q[a]?q[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a.pager=function(a){"defaults"===a&&q.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window);